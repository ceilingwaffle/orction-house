{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    // Auction box user events\r\n    var auctionBox = $(\".s-auction-listing-box\");\r\n    if ( auctionBox ) {\r\n        auctionBox.mouseenter(function () {\r\n            $(this).addClass('hover');\r\n        });\r\n        auctionBox.mouseleave(function () {\r\n            $(this).removeClass('hover');\r\n        });\r\n    }\r\n\r\n    // Custom validators\r\n    jQuery.validator.addMethod(\"money\", function (value, element) {\r\n        return this.optional(element) || value.match(/^(\\$)?\\d+(\\.\\d{1,2})?$/);\r\n    }, \"Must be a valid money format (e.g. $1.23).\");\r\n\r\n    jQuery.validator.addMethod(\"integer\", function (value, element) {\r\n        return this.optional(element) || value.match(/^\\d+$/);\r\n    }, \"Must be a whole number.\");\r\n\r\n    // Validate forms\r\n    $('#user-login-form').validate({\r\n        rules: {\r\n            username: {\r\n                required: true,\r\n                maxlength: 50\r\n            },\r\n            password: {\r\n                required: true,\r\n                minlength: 6\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        }\r\n    });\r\n\r\n    $('#user-register-form').validate({\r\n        rules: {\r\n            username: {\r\n                required: true,\r\n                maxlength: 50\r\n            },\r\n            password: {\r\n                required: true,\r\n                minlength: 6\r\n            },\r\n            password_confirmation: {\r\n                required: true,\r\n                equalTo: '#password'\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        }\r\n    });\r\n\r\n    $('#auctions-filter-form').validate({\r\n        rules: {\r\n            title: {\r\n                maxlength: 50\r\n            },\r\n            min_price: {\r\n                money: true\r\n            },\r\n            max_price: {\r\n                money: true\r\n            }\r\n        },\r\n        messages: {\r\n            title: {\r\n                required: \"Title is required.\"\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        }\r\n    });\r\n\r\n    $('#place-bid-form').validate({\r\n        errorLabelContainer: \".s-bid-errors\",\r\n        wrapper: \"li\",\r\n        rules: {\r\n            bid: {\r\n                required: true,\r\n                money: true\r\n            }\r\n        },\r\n        messages: {\r\n            bid: {\r\n                required: \"A bid is required.\",\r\n                money: \"Bid must be a valid monetary amount (e.g. $1.23).\"\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        }\r\n    });\r\n\r\n    $('#create-auction-form').validate({\r\n        rules: {\r\n            item_name: {\r\n                required: true,\r\n                maxlength: 50\r\n            },\r\n            description: {\r\n                required: true,\r\n                maxlength: 1000\r\n            },\r\n            category: {\r\n                required: true,\r\n                min: 1\r\n            },\r\n            starting_price: {\r\n                required: true,\r\n                money: true\r\n            },\r\n            date_ending: {\r\n                required: true\r\n            },\r\n            photo: {\r\n                required: false,\r\n                accept: \"image/*\"\r\n            }\r\n        },\r\n        messages: {\r\n            photo: {\r\n                accept: \"The file must be an image.\"\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        },\r\n        errorPlacement: function(error, element) {\r\n            if (element.attr(\"name\") == \"date_ending\" )\r\n                error.insertAfter(element.parent());\r\n            else\r\n                error.insertAfter(element);\r\n        }\r\n    });\r\n\r\n    $('#update-auction-form').validate({\r\n        rules: {\r\n            item_name: {\r\n                required: true,\r\n                maxlength: 50\r\n            },\r\n            description: {\r\n                required: true,\r\n                maxlength: 1000\r\n            },\r\n            category: {\r\n                required: true,\r\n                min: 1\r\n            },\r\n            date_ending: {\r\n                required: false\r\n            },\r\n            photo: {\r\n                required: false,\r\n                accept: \"image/*\"\r\n            }\r\n        },\r\n        messages: {\r\n            photo: {\r\n                accept: \"The file must be an image.\"\r\n            }\r\n        },\r\n        highlight: function (element) {\r\n            $(element).addClass('error-highlight');\r\n        },\r\n        unhighlight: function (element) {\r\n            $(element).removeClass('error-highlight');\r\n        },\r\n        errorPlacement: function(error, element) {\r\n            if (element.attr(\"name\") == \"date_ending\" )\r\n                error.insertAfter(element.parent());\r\n            else\r\n                error.insertAfter(element);\r\n        }\r\n    });\r\n\r\n    // Calendar date picker widget\r\n    var tomorrow = new Date();\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n\r\n    $('#auctionFormDateEndingSelector').datetimepicker({\r\n        format: \"DD/MM/YYYY\",\r\n        locale: moment.locale('en-AU'),\r\n        minDate: tomorrow.setHours(0, 0, 0, 0),\r\n        maxDate: moment().add(14, 'days'),\r\n        showClear: true,\r\n        showClose: true,\r\n        useCurrent: false,\r\n        keepInvalid: true\r\n    });\r\n\r\n    $('input#date_ending').click(function () {\r\n        $('#auctionFormDateEndingSelector').data(\"DateTimePicker\").show();\r\n    });\r\n\r\n});\r\n\r\n/**\r\n * Reloads the current page at the current pagination page number\r\n *\r\n * @returns {boolean}\r\n */\r\nfunction reloadAtCurrentPage() {\r\n\r\n    var page = (location.search.split('page=')[ 1 ] || '').split('&')[ 0 ];\r\n\r\n    if ( page.length == 0 ) {\r\n        page = 1;\r\n    }\r\n\r\n    window.location = '//' + location.host + location.pathname + '?page=' + page;\r\n\r\n    return false;\r\n}"],"sourceRoot":"/source/"}